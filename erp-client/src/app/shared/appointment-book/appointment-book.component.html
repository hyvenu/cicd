<nb-tabset>
    <nb-tab tabTitle="Book Appointment">
        <div id="BookingForm" [formGroup]="bookingForm" class="container">
            <div class="row">
                <div class="col-md-4">
                    <label for="customerName">Customer Name : </label>
                    <input type="text" nbInput name="customerName" formControlName="customerNameFormControl"
                    (keypress)="open_category_list(dialog)" (click)="open_category_list(dialog)" readonly
 />
                </div>
                <div class="col-md-4">
                    <label for="creatcustomer">Create New Customer :</label>
                    <button nbButton status="default" [routerLink]="['/ManageCustomer']">Create Customer</button>
                </div>
                <div class="col-md-4">
                    <label for="phoneNumber">Phone Number : </label>
                    <input nbInput name="phoneNumber" formControlName="phoneNumberFormControl" />
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label for="bookingDate">Booking Date : </label>
                    <input nbInput name="bookingDate"  [nbDatepicker]="booking_date" formControlName="bookingDateFormControl" />
                    <nb-datepicker #booking_date format="yyyy-MM-DD"></nb-datepicker>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <label for="startTime">Start Time </label>
                    <input type="time" nbInput name="startTime" formControlName="startTimeFormControl" />
                </div>
                <div class="col-md-2">
                    <label for="endTime">End Time </label>
                    <input type="time" nbInput name="endTime" formControlName="endTimeFormControl" />
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <label >Service</label>
                    <nb-select name="services" formControlName="serviceFormControl" [(selected)]="selected_service" >
                        <nb-option *ngFor="let o of service_list" value="{{o.id}}" >
                            {{ o.service_name }}
                        </nb-option>
                    </nb-select>
                </div>
            </div> <br>
            <div class="row">
                <div class="col-md-2">
                 <button nbButton status="success"  size="small" (click)="saveBooking();">Save</button>
                </div>
            </div>
            
        </div>
    </nb-tab>
</nb-tabset>

<ng-template #dialog let-data let-ref="dialogRef">
    <nb-card size="medium">
        <nb-card-header>customer name <input type="text" nbInput size="small" placeholder="Search .."
                [(ngModel)]="searchCategory" /> </nb-card-header>
        <nb-card-body>
            <nb-list>
                <nb-list-item *ngFor="let item of data |search_filter:'customer_name':searchCategory ">
                    <i class="mr-auto mt-2 mt-lg-0"> {{item.customer_name }}</i>
                    <button nbButton (click)="ref.close(item)" size="small">Select</button>
                </nb-list-item>
            </nb-list>
        </nb-card-body>
        <nb-card-footer>
            <button nbButton (click)="ref.close()">Close</button>
        </nb-card-footer>
    </nb-card>
</ng-template>

